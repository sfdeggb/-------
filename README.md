# 产业知识图谱 - 实体识别与抽取Demo

## 项目简介

本项目是智研产业大数据平台中产业上下游知识图谱构建的核心组件之一，专注于从专利文本中抽取企业、产品、技术等实体及其关系。

## 功能特性

### 实体识别
- **企业实体**：公司名称、简称、英文名
- **产品实体**：产品名称、型号、品牌
- **技术实体**：技术名称、专利技术、工艺方法
- **产业实体**：行业分类、细分领域
- **地理实体**：地区、城市、国家

### 关系抽取
- **供应关系**：上游→下游
- **技术关系**：技术依赖、技术应用
- **竞争关系**：同行业竞争
- **合作关系**：战略合作、技术合作

### 技术方法
1. **基于词典的精确匹配**：使用预定义的实体词典进行精确匹配
2. **基于规则的抽取**：使用正则表达式和模式匹配规则
3. **基于词性标注的抽取**：利用jieba分词和词性标注功能

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 运行Demo

```bash
python entity_extraction_demo.py
```

### 输出结果

程序运行后会输出：
1. 统计信息：专利数量、实体数量、关系数量
2. 实体类型分布：各类实体的数量统计
3. 关系类型分布：各类关系的数量统计
4. 详细抽取结果：每个专利的实体和关系详情
5. JSON文件：完整的抽取结果保存到`entity_extraction_results.json`

## 项目结构

```
├── entity_extraction_demo.py    # 主程序文件
├── requirements.txt             # 依赖包列表
├── README.md                    # 项目说明
└── entity_extraction_results.json  # 运行结果（自动生成）
```

## 核心类说明

### IndustryEntityExtractor
产业实体抽取器，负责从文本中识别和抽取各类实体。

主要方法：
- `extract_entities(text)`: 从文本中抽取实体
- `extract_relations(text, entities)`: 抽取实体间关系
- `_dict_based_extraction(text)`: 基于词典的抽取
- `_rule_based_extraction(text)`: 基于规则的抽取
- `_pos_based_extraction(text)`: 基于词性标注的抽取

### PatentDataProcessor
专利数据处理器，负责处理专利数据并调用实体抽取器。

主要方法：
- `generate_sample_data()`: 生成模拟专利数据
- `process_patents(patents)`: 处理专利数据，抽取实体和关系

## 示例输出

```
============================================================
产业知识图谱 - 实体识别与抽取Demo
============================================================

1. 生成模拟专利数据...
生成了 5 条专利数据

2. 开始实体抽取和关系识别...

3. 抽取结果统计:
   - 专利数量: 5
   - 实体数量: 45
   - 关系数量: 12

   实体类型分布:
   - 企业: 15
   - 技术: 12
   - 产品: 8
   - 地理: 6
   - 产业: 4

   关系类型分布:
   - 技术关系: 8
   - 供应关系: 3
   - 竞争关系: 1
```

## 扩展功能

### 1. 词典扩展
可以在`_init_dictionaries()`方法中添加更多实体词典：
- 企业词典：添加更多企业名称
- 产品词典：添加更多产品名称
- 技术词典：添加更多技术术语

### 2. 规则优化
可以在`_rule_based_extraction()`方法中添加更多正则表达式模式：
- 企业名称模式
- 产品型号模式
- 技术术语模式

### 3. 机器学习集成
可以集成预训练模型：
- BERT/RoBERTa用于命名实体识别
- 关系抽取模型
- 实体链接模型

## 注意事项

1. 当前版本使用模拟数据，实际应用中需要连接真实的专利数据库
2. 实体抽取的准确性依赖于词典质量和规则设计
3. 关系抽取使用简单的关键词匹配，可以进一步优化
4. 建议在实际部署前进行充分的测试和调优

## 技术栈

- Python 3.7+
- jieba (中文分词)
- scikit-learn (机器学习)
- pandas (数据处理)
- numpy (数值计算)

## 作者

算法工程师 - 智研产业大数据平台团队 